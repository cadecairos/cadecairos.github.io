<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Popcorn Maker - Experimenting with Canvas</title>

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="/assets/highlighter/prettify.css?v=3a098a1af2" />
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css?v=3a098a1af2" />

    <script type='text/javascript' src="/assets/js/jquery-3.1.1.min.js?v=3a098a1af2"></script>
    <link rel="canonical" href="https://chrisdecairos.ca/experimenting-with-canvas/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <meta property="og:site_name" content="Chris DeCairos">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Popcorn Maker - Experimenting with Canvas">
    <meta property="og:description" content="When you use Popcorn Maker [popcorn.webmaker.org/], you get a suite of events
that let you do some really fun things with video and audio on the web. We&#x27;ve
got a plugin that lets you type in some text and place it wherever you desire.
There&#x27;s a plugin that">
    <meta property="og:url" content="https://chrisdecairos.ca/experimenting-with-canvas/">
    <meta property="article:published_time" content="2013-03-21T16:19:53.000Z">
    <meta property="article:modified_time" content="2018-08-22T02:24:40.000Z">
    <meta property="article:tag" content="awesome">
    <meta property="article:tag" content="CDOT">
    <meta property="article:tag" content="Mozilla">
    <meta property="article:tag" content="Mozilla Foundation">
    <meta property="article:tag" content="Mozilla-popcorn">
    <meta property="article:tag" content="mozillapopcorn">
    <meta property="article:tag" content="open-source">
    <meta property="article:tag" content="Popcorn">
    <meta property="article:tag" content="Popcorn Maker">
    <meta property="article:tag" content="popcorn.js">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Popcorn Maker - Experimenting with Canvas">
    <meta name="twitter:description" content="When you use Popcorn Maker [popcorn.webmaker.org/], you get a suite of events
that let you do some really fun things with video and audio on the web. We&#x27;ve
got a plugin that lets you type in some text and place it wherever you desire.
There&#x27;s a plugin that">
    <meta name="twitter:url" content="https://chrisdecairos.ca/experimenting-with-canvas/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Chris DeCairos">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="awesome, CDOT, Mozilla, Mozilla Foundation, Mozilla-popcorn, mozillapopcorn, open-source, Popcorn, Popcorn Maker, popcorn.js">
    <meta name="twitter:site" content="@ChrisDeCairos">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Chris DeCairos",
        "url": "https://chrisdecairos.ca/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://chrisdecairos.ca/content/images/2020/12/profile--Small-.jpg"
        }
    },
    "author": {
        "@type": "Person",
        "name": "Chris DeCairos",
        "image": {
            "@type": "ImageObject",
            "url": "//www.gravatar.com/avatar/5410ec660422c8ea12d4a28ef794a23a?s=250&d=mm&r=x",
            "width": 250,
            "height": 250
        },
        "url": "https://chrisdecairos.ca/author/chris/",
        "sameAs": []
    },
    "headline": "Popcorn Maker - Experimenting with Canvas",
    "url": "https://chrisdecairos.ca/experimenting-with-canvas/",
    "datePublished": "2013-03-21T16:19:53.000Z",
    "dateModified": "2018-08-22T02:24:40.000Z",
    "keywords": "awesome, CDOT, Mozilla, Mozilla Foundation, Mozilla-popcorn, mozillapopcorn, open-source, Popcorn, Popcorn Maker, popcorn.js",
    "description": "When you use Popcorn Maker [popcorn.webmaker.org/], you get a suite of events\nthat let you do some really fun things with video and audio on the web. We&#x27;ve\ngot a plugin that lets you type in some text and place it wherever you desire.\nThere&#x27;s a plugin that lets you create a Google Map and a plugin that lets you\nadd an image. Put these all together, and you can do some really cool stuff.\n\nBut what if you could draw a picture?\n\nThe HTML5 specification includes a new element called canvas. Canvas i",
    "mainEntityOfPage": "https://chrisdecairos.ca/experimenting-with-canvas/"
}
    </script>

    <meta name="generator" content="Ghost 5.62">
    <link rel="alternate" type="application/rss+xml" title="Chris DeCairos" href="https://chrisdecairos.ca/rss/">
    
    <script defer src="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/sodo-search.min.js" data-key="6155d3cf5dbae2dc7c7242039b" data-styles="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/main.css" data-sodo-search="https://chrisdecairos.ca/" crossorigin="anonymous"></script>
    
    <link href="https://chrisdecairos.ca/webmentions/receive/" rel="webmention">
    <script defer src="/public/cards.min.js?v=3a098a1af2"></script><style>:root {--ghost-accent-color: #15171A;}</style>
    <link rel="stylesheet" type="text/css" href="/public/cards.min.css?v=3a098a1af2">
</head>
<body class="post-template tag-awesome tag-cdot tag-mozilla tag-mozilla-foundation tag-mozilla-popcorn tag-mozillapopcorn tag-open-source tag-popcorn tag-popcorn-maker tag-popcorn-js">

    

<main class="content" role="main">

    <article class="post tag-awesome tag-cdot tag-mozilla tag-mozilla-foundation tag-mozilla-popcorn tag-mozillapopcorn tag-open-source tag-popcorn tag-popcorn-maker tag-popcorn-js no-image">

        <header class="post-header">
            <a id="blog-logo" href="https://chrisdecairos.ca">
                    <img src="https://chrisdecairos.ca/content/images/2020/12/profile--Small-.jpg" alt="Blog Logo" />
            </a>
        </header>


        <span class="post-meta"><time datetime="2013-03-21">21 Mar 2013</time> on <a href="/tag/awesome/">awesome</a> | <a href="/tag/cdot/">CDOT</a> | <a href="/tag/mozilla/">Mozilla</a> | <a href="/tag/mozilla-foundation/">Mozilla Foundation</a> | <a href="/tag/mozilla-popcorn/">Mozilla-popcorn</a> | <a href="/tag/mozillapopcorn/">mozillapopcorn</a> | <a href="/tag/open-source/">open-source</a> | <a href="/tag/popcorn/">Popcorn</a> | <a href="/tag/popcorn-maker/">Popcorn Maker</a> | <a href="/tag/popcorn-js/">popcorn.js</a></span>

        <h1 class="post-title">Popcorn Maker - Experimenting with Canvas</h1>

        <section class="post-content">
            <!--kg-card-begin: markdown--><p>When you use <a title="Popcorn Maker homepage" href="popcorn.webmaker.org/" target="_blank">Popcorn Maker</a>, you get a suite of events that let you do some really fun things with video and audio on the web. We've got a plugin that lets you type in some text and place it wherever you desire. There's a plugin that lets you create a Google Map and a plugin that lets you add an image. Put these all together, and you can do some really cool stuff.</p>
<p>But what if you could <em>draw a picture</em>?</p>
<p>The HTML5 specification includes a new element called canvas. Canvas is basically a readable/writable area for displaying graphics on a webpage. The element can be accessed and manipulated with JavaScript, allowing for the creation of <a title="Really cool canvas demos" href="http://net.tutsplus.com/articles/web-roundups/21-ridiculously-impressive-html5-canvas-experiments/?ref=chrisdecairos.ca" target="_blank">some really, really cool things</a>.</p>
<p>I decided that it was about time someone showed the power of having a plugin + editor combination for Popcorn Maker that allowed the user to draw anything they desired with their mouse. I wasn't about to go all out and design some feature complete drawing suite, but I did want to have some flexibility in what could be done for the initial release. With these goals in mind, I began.</p>
<!--more-->
<p>To begin, I had to figure out how to work with canvas. I had used it on several occasions, but I have been shielded from the actual canvas API by <a title="Want to learn about Processing.js?" href="processingjs.org" target="_blank">Processing.js</a> for the most part. I created a small HTML page with a canvas, and set up a small script that I'd work on to get drawing with a mouse working.</p>
<p>The most important functions I needed when it came to working on canvas were:</p>
<ul>
	<li>getContext( type ) - where you pass in either "2d" or "3d" to get the actual drawing context of the element. The following functions are all methods on the return object of this function.</li>
	<li>moveTo( x, y ) - Set the starting point of a new path to x, y</li>
	<li>beginPath() - begin a drawing path at the last point specified by moveTo()</li>
	<li>lineTo( x, y ) - connect current position to x, y by a staight line</li>
	<li>stroke() - draws the line on the canvas that was made with lineTo</li>
</ul>
Using these functions, I developed a script that lets you draw a line with your mouse.
<p>From there, I needed to figure out the relationship between the drawing editor in Popcorn Maker and the plugin for Popcorn.js. What I didn't want was to have the plugin editable from inside a saved project, but have it be editable from within Popcorn Maker.</p>
<p>Turned out this would be easier than I'd thought, since Popcorn Maker editors can easily access the canvas object I would create in the plugin code. All I'd have to do is apply the code above to the canvas object when an editor for a draw event is opened.</p>
<p>My next challenge, was to figure out how to save the image data. I was aware that the canvas element had a toDataUrl() function that could export the canvas to its PNG representation in Base 64 encoding. A simple search on the net showed me that I could create an Image object in JS and load in the data URL, then write the image to my canvas with the drawImage() method.</p>
<p>After hooking all of that up, I could now focus on adding some customizations to what could be drawn. The most obvious options were the weight of the line being draw (i.e. how thick it is) and the colour of the line. Stroke weight was easily implemented by changing the lineWidth property and a slider to control it, and colour was done using the strokeStyle attribute and a colour input element (unimplemented in Firefox D''':).</p>
<p>I've set up a persistent (for now) server on my site to serve the new feature for you to try out.</p>
<p><strong>Just head over to <a title="Try out the draw plugin prototype!" href="http://draw.chrisdecairos.ca/templates/basic?ref=chrisdecairos.ca" target="_blank">draw.chrisdecairos.ca</a> and try it out!</strong></p>
<p>If you don't have a browser that supports Popcorn Maker or canvas, get a better browser. Seriously, it's 2013, not 2003.</p>
<!--kg-card-end: markdown-->
        </section>

        <footer class="post-footer">

                <section class="author">
                    <h4>Chris DeCairos</h4>
                    <p></p>
                </section>

            <section class="share">
                <h4>Share this</h4>
                <a class="icon-twitter" href="http://twitter.com/share?text=Popcorn Maker - Experimenting with Canvas&url=https://chrisdecairos.ca/experimenting-with-canvas/">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://chrisdecairos.ca/experimenting-with-canvas/">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=https://chrisdecairos.ca/experimenting-with-canvas/">
                    <span class="hidden">Google+</span>
                </a>
            </section>

        </footer>


    </article>

</main>


    <footer class="site-footer">
        <a class="subscribe icon-feed" href="https://chrisdecairos.ca/rss/"><span class="tooltip">Subscribe!</span></a>
        <div class="inner">
             <section class="copyright">All content copyright <a href="/">Chris DeCairos</a> &copy; 2024 &bull; All rights reserved.</section>
        </div>
    </footer>

    

    <script type='text/javascript' src="/assets/highlighter/prettify.js?v=3a098a1af2"></script>
    <script type='text/javascript' src="/assets/js/shell.js?v=3a098a1af2"></script>
</body>
</html>
