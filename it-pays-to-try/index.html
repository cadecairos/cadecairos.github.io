<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>It Pays to Try</title>

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="/assets/highlighter/prettify.css?v=3a098a1af2" />
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css?v=3a098a1af2" />

    <script type='text/javascript' src="/assets/js/jquery-3.1.1.min.js?v=3a098a1af2"></script>
    <link rel="canonical" href="https://chrisdecairos.ca/it-pays-to-try/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <meta property="og:site_name" content="Chris DeCairos">
    <meta property="og:type" content="article">
    <meta property="og:title" content="It Pays to Try">
    <meta property="og:description" content="On Sunday afternoon and into the evening, I learned a very important lesson. I
recently uploaded a patch that was supposed to fix the media type user
preferences. These prefs allow users to toggle on and off different media types
such as OGG, Wave Webm and Raw. I narrowed the">
    <meta property="og:url" content="https://chrisdecairos.ca/it-pays-to-try/">
    <meta property="article:published_time" content="2012-03-28T17:49:18.000Z">
    <meta property="article:modified_time" content="2018-08-22T02:24:40.000Z">
    <meta property="article:tag" content="audio">
    <meta property="article:tag" content="Firefox">
    <meta property="article:tag" content="media">
    <meta property="article:tag" content="Mozilla">
    <meta property="article:tag" content="open-source">
    <meta property="article:tag" content="Seneca">
    <meta property="article:tag" content="video">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="It Pays to Try">
    <meta name="twitter:description" content="On Sunday afternoon and into the evening, I learned a very important lesson. I
recently uploaded a patch that was supposed to fix the media type user
preferences. These prefs allow users to toggle on and off different media types
such as OGG, Wave Webm and Raw. I narrowed the">
    <meta name="twitter:url" content="https://chrisdecairos.ca/it-pays-to-try/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Chris DeCairos">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="audio, Firefox, media, Mozilla, open-source, Seneca, video">
    <meta name="twitter:site" content="@ChrisDeCairos">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Chris DeCairos",
        "url": "https://chrisdecairos.ca/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://chrisdecairos.ca/content/images/2020/12/profile--Small-.jpg"
        }
    },
    "author": {
        "@type": "Person",
        "name": "Chris DeCairos",
        "image": {
            "@type": "ImageObject",
            "url": "//www.gravatar.com/avatar/5410ec660422c8ea12d4a28ef794a23a?s=250&d=mm&r=x",
            "width": 250,
            "height": 250
        },
        "url": "https://chrisdecairos.ca/author/chris/",
        "sameAs": []
    },
    "headline": "It Pays to Try",
    "url": "https://chrisdecairos.ca/it-pays-to-try/",
    "datePublished": "2012-03-28T17:49:18.000Z",
    "dateModified": "2018-08-22T02:24:40.000Z",
    "keywords": "audio, Firefox, media, Mozilla, open-source, Seneca, video",
    "description": "On Sunday afternoon and into the evening, I learned a very important lesson. I\nrecently uploaded a patch that was supposed to fix the media type user\npreferences. These prefs allow users to toggle on and off different media types\nsuch as OGG, Wave Webm and Raw. I narrowed the issue down to each media\ndecoders&#x27; Clone method. I patched it up with a little something like this:\n\nThis code sample was lost because wordpress\n\n\nin each of the decoders. I built nightly and tested the prefs, everything lo",
    "mainEntityOfPage": "https://chrisdecairos.ca/it-pays-to-try/"
}
    </script>

    <meta name="generator" content="Ghost 5.62">
    <link rel="alternate" type="application/rss+xml" title="Chris DeCairos" href="https://chrisdecairos.ca/rss/">
    
    <script defer src="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/sodo-search.min.js" data-key="6155d3cf5dbae2dc7c7242039b" data-styles="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/main.css" data-sodo-search="https://chrisdecairos.ca/" crossorigin="anonymous"></script>
    
    <link href="https://chrisdecairos.ca/webmentions/receive/" rel="webmention">
    <script defer src="/public/cards.min.js?v=3a098a1af2"></script><style>:root {--ghost-accent-color: #15171A;}</style>
    <link rel="stylesheet" type="text/css" href="/public/cards.min.css?v=3a098a1af2">
</head>
<body class="post-template tag-audio tag-firefox tag-media tag-mozilla tag-open-source tag-seneca tag-video">

    

<main class="content" role="main">

    <article class="post tag-audio tag-firefox tag-media tag-mozilla tag-open-source tag-seneca tag-video no-image">

        <header class="post-header">
            <a id="blog-logo" href="https://chrisdecairos.ca">
                    <img src="https://chrisdecairos.ca/content/images/2020/12/profile--Small-.jpg" alt="Blog Logo" />
            </a>
        </header>


        <span class="post-meta"><time datetime="2012-03-28">28 Mar 2012</time> on <a href="/tag/audio/">audio</a> | <a href="/tag/firefox/">Firefox</a> | <a href="/tag/media/">media</a> | <a href="/tag/mozilla/">Mozilla</a> | <a href="/tag/open-source/">open-source</a> | <a href="/tag/seneca/">Seneca</a> | <a href="/tag/video/">video</a></span>

        <h1 class="post-title">It Pays to Try</h1>

        <section class="post-content">
            <!--kg-card-begin: markdown--><p>On Sunday afternoon and into the evening, I learned a very important lesson. I recently uploaded a patch that was supposed to fix the media type user preferences. These prefs allow users to toggle on and off different media types such as OGG, Wave Webm and Raw. I narrowed the issue down to each media decoders' Clone method. I patched it up with a little something like this:<code></code></p>
<pre><code>This code sample was lost because wordpress
</code></pre>
<p>in each of the decoders. I built nightly and tested the prefs, everything looked great.</p>
<p>One thing I did not anticipate, neither did my reviewer, was the Raw media type. I'm not entirely sure as to what it is exactly, but it is disabled by default for Desktop Firefox builds. It is, however, enabled when building Mobile Firefox. When My patch was landed on Mozilla-Inbound, It killed the mobile builds.</p>
<p>The failing build was being caused by my call to nsHTMLMediaElement::IsRawEnabled() in the Raw Decoder. Unlike the other &quot;is[Type]Enabled()&quot; methods, the Raw version was not a static member of the class, and thus, would fail when building for that platform. I quickly made the method virtual, and threw up the fix. It was promptly merged into mozilla-inbound, and right off the bat I saw it failing once again on Android.</p>
<p>Turns out IsRawEnabled iscalled within the static IsRawType function. It was failing because it needed to know that IsRawEnabled was now a member of nsHTMLMediaElement. A silly thing to miss, and because of it we had to once again back out the patch. I fixed it up, and threw up the new patch.In a change of pace, Chris Pearce pushed it to the try servers for testing, and everything looked good!</p>
<p>Lesson learned? Even small patches should be tested, cause you never ever know what you could break!</p>
<p>And on Android, I'll leave you with the words of philor:</p>
<p>[19:16] &lt;philor&gt; nobody expects the Android bustage: its three main weapons are fear, surprise, unexpected bustage, and a fanatical devotion to the Pope</p>
<!--kg-card-end: markdown-->
        </section>

        <footer class="post-footer">

                <section class="author">
                    <h4>Chris DeCairos</h4>
                    <p></p>
                </section>

            <section class="share">
                <h4>Share this</h4>
                <a class="icon-twitter" href="http://twitter.com/share?text=It Pays to Try&url=https://chrisdecairos.ca/it-pays-to-try/">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://chrisdecairos.ca/it-pays-to-try/">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=https://chrisdecairos.ca/it-pays-to-try/">
                    <span class="hidden">Google+</span>
                </a>
            </section>

        </footer>


    </article>

</main>


    <footer class="site-footer">
        <a class="subscribe icon-feed" href="https://chrisdecairos.ca/rss/"><span class="tooltip">Subscribe!</span></a>
        <div class="inner">
             <section class="copyright">All content copyright <a href="/">Chris DeCairos</a> &copy; 2024 &bull; All rights reserved.</section>
        </div>
    </footer>

    

    <script type='text/javascript' src="/assets/highlighter/prettify.js?v=3a098a1af2"></script>
    <script type='text/javascript' src="/assets/js/shell.js?v=3a098a1af2"></script>
</body>
</html>
