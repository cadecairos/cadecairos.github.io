<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Hacking on Appmaker</title>

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="/assets/highlighter/prettify.css?v=3a098a1af2" />
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css?v=3a098a1af2" />

    <script type='text/javascript' src="/assets/js/jquery-3.1.1.min.js?v=3a098a1af2"></script>
    <link rel="canonical" href="https://chrisdecairos.ca/hacking-on-appmaker/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <meta property="og:site_name" content="Chris DeCairos">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Hacking on Appmaker">
    <meta property="og:description" content="This past week, I traveled to Revelstoke, BC
[http://en.wikipedia.org/wiki/Revelstoke,_British_Columbia] for an Appmaker
[http://appmaker.mozillalabs.com/] workweek. Appmaker is an application designed
to enable anyone to create mobile web apps without needing to learn about
coding. By combining various widgets together and connecting">
    <meta property="og:url" content="https://chrisdecairos.ca/hacking-on-appmaker/">
    <meta property="article:published_time" content="2014-01-13T18:59:39.000Z">
    <meta property="article:modified_time" content="2018-08-22T02:24:40.000Z">
    <meta property="article:tag" content="Appmaker">
    <meta property="article:tag" content="JavaScript">
    <meta property="article:tag" content="MakeAPI">
    <meta property="article:tag" content="Mozilla">
    <meta property="article:tag" content="open-source">
    <meta property="article:tag" content="webmaker">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Hacking on Appmaker">
    <meta name="twitter:description" content="This past week, I traveled to Revelstoke, BC
[http://en.wikipedia.org/wiki/Revelstoke,_British_Columbia] for an Appmaker
[http://appmaker.mozillalabs.com/] workweek. Appmaker is an application designed
to enable anyone to create mobile web apps without needing to learn about
coding. By combining various widgets together and connecting">
    <meta name="twitter:url" content="https://chrisdecairos.ca/hacking-on-appmaker/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Chris DeCairos">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="Appmaker, JavaScript, MakeAPI, Mozilla, open-source, webmaker">
    <meta name="twitter:site" content="@ChrisDeCairos">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Chris DeCairos",
        "url": "https://chrisdecairos.ca/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://chrisdecairos.ca/content/images/2020/12/profile--Small-.jpg"
        }
    },
    "author": {
        "@type": "Person",
        "name": "Chris DeCairos",
        "image": {
            "@type": "ImageObject",
            "url": "//www.gravatar.com/avatar/5410ec660422c8ea12d4a28ef794a23a?s=250&d=mm&r=x",
            "width": 250,
            "height": 250
        },
        "url": "https://chrisdecairos.ca/author/chris/",
        "sameAs": []
    },
    "headline": "Hacking on Appmaker",
    "url": "https://chrisdecairos.ca/hacking-on-appmaker/",
    "datePublished": "2014-01-13T18:59:39.000Z",
    "dateModified": "2018-08-22T02:24:40.000Z",
    "keywords": "Appmaker, JavaScript, MakeAPI, Mozilla, open-source, webmaker",
    "description": "This past week, I traveled to Revelstoke, BC\n[http://en.wikipedia.org/wiki/Revelstoke,_British_Columbia] for an Appmaker\n[http://appmaker.mozillalabs.com/] workweek. Appmaker is an application designed\nto enable anyone to create mobile web apps without needing to learn about\ncoding. By combining various widgets together and connecting their inputs and\noutputs to one-another using the visual interface, users can create customized\napplications to use and share. The purpose of the work week was to ",
    "mainEntityOfPage": "https://chrisdecairos.ca/hacking-on-appmaker/"
}
    </script>

    <meta name="generator" content="Ghost 5.62">
    <link rel="alternate" type="application/rss+xml" title="Chris DeCairos" href="https://chrisdecairos.ca/rss/">
    
    <script defer src="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/sodo-search.min.js" data-key="6155d3cf5dbae2dc7c7242039b" data-styles="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/main.css" data-sodo-search="https://chrisdecairos.ca/" crossorigin="anonymous"></script>
    
    <link href="https://chrisdecairos.ca/webmentions/receive/" rel="webmention">
    <script defer src="/public/cards.min.js?v=3a098a1af2"></script><style>:root {--ghost-accent-color: #15171A;}</style>
    <link rel="stylesheet" type="text/css" href="/public/cards.min.css?v=3a098a1af2">
</head>
<body class="post-template tag-appmaker tag-javascript tag-makeapi tag-mozilla tag-open-source tag-webmaker">

    

<main class="content" role="main">

    <article class="post tag-appmaker tag-javascript tag-makeapi tag-mozilla tag-open-source tag-webmaker no-image">

        <header class="post-header">
            <a id="blog-logo" href="https://chrisdecairos.ca">
                    <img src="https://chrisdecairos.ca/content/images/2020/12/profile--Small-.jpg" alt="Blog Logo" />
            </a>
        </header>


        <span class="post-meta"><time datetime="2014-01-13">13 Jan 2014</time> on <a href="/tag/appmaker/">Appmaker</a> | <a href="/tag/javascript/">JavaScript</a> | <a href="/tag/makeapi/">MakeAPI</a> | <a href="/tag/mozilla/">Mozilla</a> | <a href="/tag/open-source/">open-source</a> | <a href="/tag/webmaker/">webmaker</a></span>

        <h1 class="post-title">Hacking on Appmaker</h1>

        <section class="post-content">
            <!--kg-card-begin: markdown--><p>This past week, I traveled to<a href="http://en.wikipedia.org/wiki/Revelstoke,_British_Columbia?ref=chrisdecairos.ca"> Revelstoke, BC</a> for an <a href="http://appmaker.mozillalabs.com/?ref=chrisdecairos.ca">Appmaker</a> workweek. Appmaker is an application designed to enable anyone to create mobile web apps without needing to learn about coding. By combining various widgets together and connecting their inputs and outputs to one-another using the visual interface, users can create customized applications to use and share. The purpose of the work week was to have a code sprint on Appmaker, it's components and to get Webmaker ready for integration with it.</p>
<p>I had a couple of goals in mind going into Revelstoke. The first was to learn about Appmaker's code base and to learn the how easy or difficult getting started as a contributor is. My second goal was to help transform Webmaker so that we could integrate Appmaker with Webmaker services like the Log-in Server and Make API.</p>
<p>My first couple of days in there were spent exploring and writing components for Appmaker. Components are small pieces of standalone code that accept inputs and emit outputs. Appmaker components are built using a <a href="http://www.w3.org/TR/2012/WD-components-intro-20120522/?ref=chrisdecairos.ca">Web Component</a> framework called <a href="http://www.polymer-project.org/?ref=chrisdecairos.ca">Polymer.</a>Â  Instead of writing a component from scratch, I started out by re-writing the Fireworks component written for a previous version of Appmaker. The fireworks components will animate fireworks on a canvas element when it receives instructions to do so.</p>
<!--more-->
<p>My first step when porting the fireworks component was to create a new repository on GitHub for it. Next, I copied all the files from the already ported <a href="https://github.com/mozilla-appmaker/component-button?ref=chrisdecairos.ca">button component</a> into my new repository. Annoyingly, modifying each file was tedious work, and really needed something to speed up the process (The solution is linked at the bottom of this post). Following my setup, I started working on porting the legacy component code into a Polymer element. This work was surprisingly straight forward, and didn't take too much time. It was mostly a copy, paste job followed by minor edits and refactoring to get the component working. Other problems I ran into while porting included garbage stack traces in Firefox Nightly (maybe due to the polyfills for Web Component support) as well as a bug I found where loading components in Appmaker when using a case-sensitive file system.will fail. Should you be interested, you can <a href="https://github.com/mozilla-appmaker/component-fireworks?ref=chrisdecairos.ca">find the repository for fireworks component here</a>.</p>
<p>I have also ported an <a href="https://github.com/mozilla-appmaker/component-image?ref=chrisdecairos.ca">image displaying component</a> and an <a href="https://github.com/cadecairos/component-audio-player?ref=chrisdecairos.ca">HTML5 Audio playing component.</a> I attempted to write an HTML5 audio recording component, and had some successes getting WebRTC's <code>getUserMedia</code> function working. Sadly, it's not easy converting recorded audio into a playable file and on top of that, the loading of external scripts in a polymer component is really janky, so I decided not to waste much time on it and get started on the MakeAPI.</p>
<p>Following my work on components, I took a look at the Make API with <a href="https://twitter.com/jbuckca?ref=chrisdecairos.ca">Jon</a>, and decided what we should do to help Appmaker get in on the party. I started by reviving a 4 month old patch I wrote which associates every Make on the Make API with the API keys that created it. This lets me ensure that all write actions initiated by an app will only be permitted on makes that were created with the app's public and private key-pair. This was easy enough to rebase and get reviewed, and within a few hours it was running on staging. Secondly, I discovered a pretty bad crash bug in the Make API which blocked having Appmaker publish. The Create/Update routes run a filter on all tags passed in, and setup for the middleware checks if the user account creating a make has sufficient permissions to apply application tags. unfortunately, if that email is not provided or, in Appmaker's case, it is not an email with a valid Webmaker account, the call will fail. I have subsequently added logic to allow makes without emails or emails we don't know get created, and all app-tags are stripped by default.</p>
<p>The last thing I did to the Make API was alter the Make model to contain a remixurl and an editurl field. These fields will allow third party apps to define explicit remix or edit links that can be followed to do said action to a make, rather than force Webmaker's <code>/remix</code> and <code>/edit</code> method. With that completed, I turned my attention to Appmaker itself to see what needed to be done to get it publishing makes to the Make API. Lucky for me, most of the work had already been done! There was a problem where the public and private key-pair were being mixed up, causing every request to return a 401 (Authentication possible, but failed). with the bolts tightened here, I successfully posted metadata about an app to my local Make API database.</p>
<p>I'm back in Ontario now, nursing a pretty bad cold, and looking forward to getting my hands on some more Appmaker code in the future. It's actually really, really fun to play with, and writing components isn't too hard when you use <a href="http://blog.ascher.ca/?ref=chrisdecairos.ca">David Ascher's</a> really awesome <a href="https://github.com/mozilla-appmaker/component-template?ref=chrisdecairos.ca">component-template</a> to boilerplate your component before you begin!</p>
<!--kg-card-end: markdown-->
        </section>

        <footer class="post-footer">

                <section class="author">
                    <h4>Chris DeCairos</h4>
                    <p></p>
                </section>

            <section class="share">
                <h4>Share this</h4>
                <a class="icon-twitter" href="http://twitter.com/share?text=Hacking on Appmaker&url=https://chrisdecairos.ca/hacking-on-appmaker/">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://chrisdecairos.ca/hacking-on-appmaker/">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=https://chrisdecairos.ca/hacking-on-appmaker/">
                    <span class="hidden">Google+</span>
                </a>
            </section>

        </footer>


    </article>

</main>


    <footer class="site-footer">
        <a class="subscribe icon-feed" href="https://chrisdecairos.ca/rss/"><span class="tooltip">Subscribe!</span></a>
        <div class="inner">
             <section class="copyright">All content copyright <a href="/">Chris DeCairos</a> &copy; 2024 &bull; All rights reserved.</section>
        </div>
    </footer>

    

    <script type='text/javascript' src="/assets/highlighter/prettify.js?v=3a098a1af2"></script>
    <script type='text/javascript' src="/assets/js/shell.js?v=3a098a1af2"></script>
</body>
</html>
