<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>The Product of My Laziness</title>

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="/assets/highlighter/prettify.css?v=3a098a1af2" />
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css?v=3a098a1af2" />

    <script type='text/javascript' src="/assets/js/jquery-3.1.1.min.js?v=3a098a1af2"></script>
    <link rel="canonical" href="https://chrisdecairos.ca/the-product-of-my-laziness/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <meta property="og:site_name" content="Chris DeCairos">
    <meta property="og:type" content="article">
    <meta property="og:title" content="The Product of My Laziness">
    <meta property="og:description" content="In any open or closed source project, there&#x27;s nothing as important as the review
process is to ensure quality control. GitHub [http://www.github.com] provides
several tools that are helpful in inspecting branches and commits which are
useful. As a lead developer of Popcorn.js I often get asked">
    <meta property="og:url" content="https://chrisdecairos.ca/the-product-of-my-laziness/">
    <meta property="article:published_time" content="2011-12-14T11:23:53.000Z">
    <meta property="article:modified_time" content="2018-08-22T02:24:40.000Z">
    <meta property="article:tag" content="awesome">
    <meta property="article:tag" content="Git">
    <meta property="article:tag" content="github">
    <meta property="article:tag" content="open-source">
    <meta property="article:tag" content="popcorn.js">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="The Product of My Laziness">
    <meta name="twitter:description" content="In any open or closed source project, there&#x27;s nothing as important as the review
process is to ensure quality control. GitHub [http://www.github.com] provides
several tools that are helpful in inspecting branches and commits which are
useful. As a lead developer of Popcorn.js I often get asked">
    <meta name="twitter:url" content="https://chrisdecairos.ca/the-product-of-my-laziness/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Chris DeCairos">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="awesome, Git, github, open-source, popcorn.js">
    <meta name="twitter:site" content="@ChrisDeCairos">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Chris DeCairos",
        "url": "https://chrisdecairos.ca/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://chrisdecairos.ca/content/images/2020/12/profile--Small-.jpg"
        }
    },
    "author": {
        "@type": "Person",
        "name": "Chris DeCairos",
        "image": {
            "@type": "ImageObject",
            "url": "//www.gravatar.com/avatar/5410ec660422c8ea12d4a28ef794a23a?s=250&d=mm&r=x",
            "width": 250,
            "height": 250
        },
        "url": "https://chrisdecairos.ca/author/chris/",
        "sameAs": []
    },
    "headline": "The Product of My Laziness",
    "url": "https://chrisdecairos.ca/the-product-of-my-laziness/",
    "datePublished": "2011-12-14T11:23:53.000Z",
    "dateModified": "2018-08-22T02:24:40.000Z",
    "keywords": "awesome, Git, github, open-source, popcorn.js",
    "description": "In any open or closed source project, there&#x27;s nothing as important as the review\nprocess is to ensure quality control. GitHub [http://www.github.com] provides\nseveral tools that are helpful in inspecting branches and commits which are\nuseful. As a lead developer of Popcorn.js I often get asked to do code reviews\nby my peers and contributors. I prefer using GitHub to do these reviews, but\nthere&#x27;s always been this one little annoyance that has had me grumbling.\n\nCompare view [https://github.com/bl",
    "mainEntityOfPage": "https://chrisdecairos.ca/the-product-of-my-laziness/"
}
    </script>

    <meta name="generator" content="Ghost 5.62">
    <link rel="alternate" type="application/rss+xml" title="Chris DeCairos" href="https://chrisdecairos.ca/rss/">
    
    <script defer src="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/sodo-search.min.js" data-key="6155d3cf5dbae2dc7c7242039b" data-styles="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/main.css" data-sodo-search="https://chrisdecairos.ca/" crossorigin="anonymous"></script>
    
    <link href="https://chrisdecairos.ca/webmentions/receive/" rel="webmention">
    <script defer src="/public/cards.min.js?v=3a098a1af2"></script><style>:root {--ghost-accent-color: #15171A;}</style>
    <link rel="stylesheet" type="text/css" href="/public/cards.min.css?v=3a098a1af2">
</head>
<body class="post-template tag-awesome tag-git tag-github tag-open-source tag-popcorn-js">

    

<main class="content" role="main">

    <article class="post tag-awesome tag-git tag-github tag-open-source tag-popcorn-js no-image">

        <header class="post-header">
            <a id="blog-logo" href="https://chrisdecairos.ca">
                    <img src="https://chrisdecairos.ca/content/images/2020/12/profile--Small-.jpg" alt="Blog Logo" />
            </a>
        </header>


        <span class="post-meta"><time datetime="2011-12-14">14 Dec 2011</time> on <a href="/tag/awesome/">awesome</a> | <a href="/tag/git/">Git</a> | <a href="/tag/github/">github</a> | <a href="/tag/open-source/">open-source</a> | <a href="/tag/popcorn-js/">popcorn.js</a></span>

        <h1 class="post-title">The Product of My Laziness</h1>

        <section class="post-content">
            <!--kg-card-begin: markdown--><p>In any open or closed source project, there's nothing as important as the review process is to ensure quality control.  <a href="http://www.github.com/?ref=chrisdecairos.ca">GitHub</a> provides several tools that are helpful in inspecting branches and commits which are useful. As a lead developer of Popcorn.js I often get asked to do code reviews by my peers and contributors. I prefer using GitHub to do these reviews, but there's always been this one little annoyance that has had me grumbling.</p>
<p><a href="https://github.com/blog/612-introducing-github-compare-view?ref=chrisdecairos.ca">Compare view</a> is a useful tool provided by GitHub that will clearly display what has changed in a projects code over a series of commits. This is invaluable when there are lots of reviews to do and little time to do them in.  Compare view, while being incredibly useful, fails (IMHO) when it comes to one important thing: <em>actually getting to a compare view</em>. GitHub does provide a couple ways to do it, but they are not very easy to use.</p>
<p>It involves navigating to a user's list of branches, and selecting the branch you want to compare. This opens a compare view for that branch, against that user's base branch.  After that, if you want to compare the selected branch to a branch on another user's account, you must click the button with the name of the branch and enter in the username and branch from there.  This is clunky and non-intuitive.  I had no idea this method even existed, because there's no documentation for it, AFAIK.</p>
<p>The second way to open a compare view involves some URL hacking. Lets take <a href="http://mozillapopcorn.org/?ref=chrisdecairos.ca">popcorn-js</a> for example. I have a &quot;develop&quot; branch for popcorn I use for all reviews. Now imagine that <a href="http://dseifried.wordpress.com/?ref=chrisdecairos.ca" target="_blank">Dave Seifried </a>pushes a branch to his account, then asks me to review his commit(s). The standard url for any branch on GitHub is: &quot;www.github.com/&lt;userName&gt;/&lt;projectName&gt;/tree/&lt;branchName&gt;&quot;.  So, lets pretend Dave has asked me to review &quot;www.github.com/dseif/popcorn-js/tree/t581&quot;. First thing I'd do is navigate to that branch's page using the previous URL. To compare that to my develop branch I can change the URL in the address bar to: &quot;www.github.com/dseif/popcorn-js/compare/cadecairos:develop...t581&quot;.</p>
<p>I got tired of having to hack url's to get to compare view, so I decided one evening to create a <a href="http://en.wikipedia.org/wiki/Bookmarklet?ref=chrisdecairos.ca" target="_blank">bookmarklet</a> to solve my problem. A Bookmarklet is  Javascript that is stored as the URL of a bookmark in a browser. Clicking on a bookmarklet will, unlike a regular link, not bring you to a website, but execute the code that is stored. I had roughly 3 things in mind when I sat down to start working on it. The first was that I should limit it's use to github.com to make my life a little easier. The second was that I should take advantage of the hackable URL method of getting to a compare view. The last thing was that I should keep the code as compact as possible.  Satisfying the 3rd meant using a library like <a href="http://www.jquery.com/?ref=chrisdecairos.ca" target="_blank">jQuery</a>, but I did not want to have to pull a library in manually. A small amount of investigation revealed that GitHub had already solved my problem, because they used jQuery. This allowed me to simply use the library for my own purposes.</p>
<p>The actual coding of the tool was pretty simple, but not without its annoyances.  I had never created a bookmarklet before so I needed to read up on how they're formatted. Being super lazy also had me searching for tools that I could drop my code into and it would <a href="http://ted.mielczarek.org/code/mozilla/bookmarklet.html?ref=chrisdecairos.ca" target="_blank">generate the bookmarklet</a> for me.  These weren't that hard to find. The annoyances came from having to make changes, &quot;crunch&quot; the code, drag it to the bookmark toolbar and then test. This whole process can be annoying. (Maybe I should make a bookmarklet bookmarklet?)</p>
<p>Since I've released the code on GitHub, I've added in configurable defaults by project. This means if I want to set the default account and branch to compare against for popcorn-js to cadecairos:develop, I just fill in the base branch and target user to what I want and hit &quot;set defaults&quot;. This saves the values to local storage, so the next time I use the bookmarklet it will use these values when it opens.  As I said this works for multiple projects so if you contribute to different repos, you can set defaults for each one. ( just don't clear your cache ;) )</p>
<p>[caption id=&quot;attachment_133&quot; align=&quot;aligncenter&quot; width=&quot;499&quot; caption=&quot;Ahhhhh.... simplicity.&quot;]<a href="http://cadecairos.github.com/CompareMarklet?ref=chrisdecairos.ca"><img class=" wp-image-133" title="CompareMarklet" src="https://chrisdecairos.ca/content/images/2011/12/Screen-Shot-2011-12-14-at-11.13.29-AM1.png" alt width="499" height="186"></a>[/caption]</p>
<p>Below you can find the bookmarklet itself.  I've thrown it up on GitHub at <a href="https://github.com/cadecairos/CompareMarklet?ref=chrisdecairos.ca" target="_blank">github.com/cadecairos/CompareMarklet</a>. There's a GitHub-Pages page at <a href="http://cadecairos.github.com/CompareMarklet/?ref=chrisdecairos.ca" target="_blank">cadecairos.github.com/CompareMarklet</a></p>
<p><a href="javascript:(function(){javascript:(function(){if((window.location.host||window.location.hostname)!=='github.com'){alert('CompareMarklet%20only%20works%20on%20www.github.com');}var%20config=JSON.parse(localStorage.getItem('CompareMarklet.config'))||{},currentURL=window.location.href,body=document.body,splitURL=currentURL.split('/'),repo=splitURL[4],repoConfig=config[repo]||{},targetUser=repoConfig.targetUser||splitURL[3]||'',baseBranch=repoConfig.baseBranch||'master',compareToBranch=splitURL[6]||'',inputDiv=$('<div%20id=%22compare-marklet-main%22%20style=%22position:absolute;background:#FFFFFF;display:block;width:300px;height:125px;left:'+((body.clientWidth/2)-150)+'px;top:50px;border:2px%20solid%22%3E%3C/div%3E'),elems={targetUsertb:$('%3Cinput%20data-name=%22Target%20User:%22%20id=%22tutb%22%20type=%22text%22%20value=%22'+targetUser+'%22%20%3E'),baseBranchtb:$('%3Cinput%20data-name=%22Base%20Branch:%22%20id=%22bbtb%22%20type=%22text%22%20value=%22'+baseBranch+'%22%20%3E'),compareBranchtb:$('%3Cinput%20data-name=%22Compare%20Branch:%22%20id=%22cbtb%22%20type=%22text%22%20value=%22'+compareToBranch+'%22%20%3E')},cpString,submit_btn=$('%3Cinput%20type=%22button%22%20value=%22Compare!%22%20id=%22submitdata%22%20%3E').click(function(){if(elems.baseBranchtb.val()){cpString=elems.baseBranchtb.val()+'...'+(elems.compareBranchtb.val()||'master');}else{cpString=(elems.compareBranchtb.val()||'master');}window.location.href='https://www.github.com/'+targetUser+'/'+repo+'/compare/'+(elems.targetUsertb.val()||targetUser)+':'+cpString;});$.each(elems,function(k,elem){inputDiv.append($('%3Clabel%20for=%22'+elem.attr('id')+'%22%20%3E'+elem.attr('data-name')+'%3C/label%3E')).append(elem).append($('%3Cbr%3E'));});inputDiv.append(submit_btn).append('%3Cbr%20/%3E').append('%3Cinput%20type=%22button%22%20value=%22Set%20Defaults%20('+repo+')%22%20id=%22setDefaults%22%20%3E').click(function(){config[repo]={'targetUser':escape(elems.targetUsertb.val())||undefined,'baseBranch':escape(elems.baseBranchtb.val())||undefined};localStorage.setItem('CompareMarklet.config',JSON.stringify(config));});$(body).append(inputDiv);})();})();">ComareMarklet</a>  &lt;---Drag this to your bookmark toolbar to save!</p>
<!--kg-card-end: markdown-->
        </section>

        <footer class="post-footer">

                <section class="author">
                    <h4>Chris DeCairos</h4>
                    <p></p>
                </section>

            <section class="share">
                <h4>Share this</h4>
                <a class="icon-twitter" href="http://twitter.com/share?text=The Product of My Laziness&url=https://chrisdecairos.ca/the-product-of-my-laziness/">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://chrisdecairos.ca/the-product-of-my-laziness/">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=https://chrisdecairos.ca/the-product-of-my-laziness/">
                    <span class="hidden">Google+</span>
                </a>
            </section>

        </footer>


    </article>

</main>


    <footer class="site-footer">
        <a class="subscribe icon-feed" href="https://chrisdecairos.ca/rss/"><span class="tooltip">Subscribe!</span></a>
        <div class="inner">
             <section class="copyright">All content copyright <a href="/">Chris DeCairos</a> &copy; 2024 &bull; All rights reserved.</section>
        </div>
    </footer>

    

    <script type='text/javascript' src="/assets/highlighter/prettify.js?v=3a098a1af2"></script>
    <script type='text/javascript' src="/assets/js/shell.js?v=3a098a1af2"></script>
</body>
</html>
