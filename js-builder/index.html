<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>JS-Builder</title>

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="/assets/highlighter/prettify.css?v=3a098a1af2" />
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css?v=3a098a1af2" />

    <script type='text/javascript' src="/assets/js/jquery-3.1.1.min.js?v=3a098a1af2"></script>
    <link rel="canonical" href="https://chrisdecairos.ca/js-builder/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <meta property="og:site_name" content="Chris DeCairos">
    <meta property="og:type" content="article">
    <meta property="og:title" content="JS-Builder">
    <meta property="og:description" content="Back in July of 2012 I created a Node.js app that made custom builds of
Popcorn-js [https://chrisdecairos.ca/upgrading-popcorns-build-tool.html]. This app was
called the Popcorn Dynamic Build Tool, and was a great proof of concept. Since
then I haven&#x27;t had a chance to hack on it and">
    <meta property="og:url" content="https://chrisdecairos.ca/js-builder/">
    <meta property="article:published_time" content="2013-01-25T16:39:45.000Z">
    <meta property="article:modified_time" content="2018-08-22T02:24:40.000Z">
    <meta property="article:tag" content="awesome">
    <meta property="article:tag" content="CDOT">
    <meta property="article:tag" content="JavaScript">
    <meta property="article:tag" content="Mozilla-popcorn">
    <meta property="article:tag" content="open-source">
    <meta property="article:tag" content="Popcorn Maker">
    <meta property="article:tag" content="popcorn.js">
    <meta property="article:tag" content="Seneca">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="JS-Builder">
    <meta name="twitter:description" content="Back in July of 2012 I created a Node.js app that made custom builds of
Popcorn-js [https://chrisdecairos.ca/upgrading-popcorns-build-tool.html]. This app was
called the Popcorn Dynamic Build Tool, and was a great proof of concept. Since
then I haven&#x27;t had a chance to hack on it and">
    <meta name="twitter:url" content="https://chrisdecairos.ca/js-builder/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Chris DeCairos">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="awesome, CDOT, JavaScript, Mozilla-popcorn, open-source, Popcorn Maker, popcorn.js, Seneca">
    <meta name="twitter:site" content="@ChrisDeCairos">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Chris DeCairos",
        "url": "https://chrisdecairos.ca/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://chrisdecairos.ca/content/images/2020/12/profile--Small-.jpg"
        }
    },
    "author": {
        "@type": "Person",
        "name": "Chris DeCairos",
        "image": {
            "@type": "ImageObject",
            "url": "//www.gravatar.com/avatar/5410ec660422c8ea12d4a28ef794a23a?s=250&d=mm&r=x",
            "width": 250,
            "height": 250
        },
        "url": "https://chrisdecairos.ca/author/chris/",
        "sameAs": []
    },
    "headline": "JS-Builder",
    "url": "https://chrisdecairos.ca/js-builder/",
    "datePublished": "2013-01-25T16:39:45.000Z",
    "dateModified": "2018-08-22T02:24:40.000Z",
    "keywords": "awesome, CDOT, JavaScript, Mozilla-popcorn, open-source, Popcorn Maker, popcorn.js, Seneca",
    "description": "Back in July of 2012 I created a Node.js app that made custom builds of\nPopcorn-js [https://chrisdecairos.ca/upgrading-popcorns-build-tool.html]. This app was\ncalled the Popcorn Dynamic Build Tool, and was a great proof of concept. Since\nthen I haven&#x27;t had a chance to hack on it and improve it.\n\nThere were several things in the app that needed to be addressed. One was the\nuse of the http Node module [http://nodejs.org/api/http.html]. I did most of the\nwork directly with it when it would have bee",
    "mainEntityOfPage": "https://chrisdecairos.ca/js-builder/"
}
    </script>

    <meta name="generator" content="Ghost 5.62">
    <link rel="alternate" type="application/rss+xml" title="Chris DeCairos" href="https://chrisdecairos.ca/rss/">
    
    <script defer src="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/sodo-search.min.js" data-key="6155d3cf5dbae2dc7c7242039b" data-styles="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/main.css" data-sodo-search="https://chrisdecairos.ca/" crossorigin="anonymous"></script>
    
    <link href="https://chrisdecairos.ca/webmentions/receive/" rel="webmention">
    <script defer src="/public/cards.min.js?v=3a098a1af2"></script><style>:root {--ghost-accent-color: #15171A;}</style>
    <link rel="stylesheet" type="text/css" href="/public/cards.min.css?v=3a098a1af2">
</head>
<body class="post-template tag-awesome tag-cdot tag-javascript tag-mozilla-popcorn tag-open-source tag-popcorn-maker tag-popcorn-js tag-seneca">

    

<main class="content" role="main">

    <article class="post tag-awesome tag-cdot tag-javascript tag-mozilla-popcorn tag-open-source tag-popcorn-maker tag-popcorn-js tag-seneca no-image">

        <header class="post-header">
            <a id="blog-logo" href="https://chrisdecairos.ca">
                    <img src="https://chrisdecairos.ca/content/images/2020/12/profile--Small-.jpg" alt="Blog Logo" />
            </a>
        </header>


        <span class="post-meta"><time datetime="2013-01-25">25 Jan 2013</time> on <a href="/tag/awesome/">awesome</a> | <a href="/tag/cdot/">CDOT</a> | <a href="/tag/javascript/">JavaScript</a> | <a href="/tag/mozilla-popcorn/">Mozilla-popcorn</a> | <a href="/tag/open-source/">open-source</a> | <a href="/tag/popcorn-maker/">Popcorn Maker</a> | <a href="/tag/popcorn-js/">popcorn.js</a> | <a href="/tag/seneca/">Seneca</a></span>

        <h1 class="post-title">JS-Builder</h1>

        <section class="post-content">
            <!--kg-card-begin: markdown--><p>Back in July of 2012 I created a <a href="https://chrisdecairos.ca/upgrading-popcorns-build-tool.html" target="_blank">Node.js app that made custom builds of Popcorn-js</a>. This app was called the Popcorn Dynamic Build Tool, and was a great proof of concept. Since then I haven't had a chance to hack on it and improve it.</p>
<p>There were several things in the app that needed to be addressed. One was the use of the <a href="http://nodejs.org/api/http.html?ref=chrisdecairos.ca" target="_blank">http Node module</a>. I did most of the work directly with it when it would have been better in the long run to use a wrapper like <a href="http://expressjs.com/?ref=chrisdecairos.ca" target="_blank">Express</a>.</p>
<!--more-->
<p>Another issue was with the way I was building the code. I had written the app in such a way that it was entirely locked into the popcorn.js framework. One thing I wanted for the app was to make it possible for anyone to plug in their repository and have it built and served.</p>
<p>The third issue was caching. <a href="http://www.mongodb.org/?ref=chrisdecairos.ca" target="_blank">mongodb</a> was a good way to quickly implement caching builds, but it would make deploying the app more difficult. Caching is an important part of the app, as minification (using <a href="https://github.com/mishoo/UglifyJS2?ref=chrisdecairos.ca" target="_blank">UglifyJS 2</a>)can take 300-1000 ms depending on the build, thus caching builds would significantly reduce response time for requests.</p>
<p>The last issue was with the demo UI I built. To put it simply, it's hideous. I need to encourage a designer to give me a design that I can implement. I also needed the demo UI to use a template, allowing for the node app to dynamically build the options when serving the page.</p>
<p>On Thursday morning I began a complete re-write of the app. I started by ripping out essential bits I could re-use and built the app using express. That was easy enough. Once that was completed, <a href="https://twitter.com/jbuckca?ref=chrisdecairos.ca" target="_blank">Jon Buckley</a> lent a hand cleaning up parts of the app for me. From there I re-tooled the build process.</p>
<p>My first approach to building involved hard coding the different types of popcorn add-ons, as well as the directory structure they have. In order to support other libraries, you now just describe the project in a JSON file, giving the relative path to each resource from the library's root. <a href="https://github.com/cadecairos/JS-Builder/blob/a383ca0919423266ab2e0875169db6b9c9f5e496/README.md?ref=chrisdecairos.ca#customization" target="_blank">A sample can be seen here.</a> I have also enhanced the build process to take into account dependencies. You can specify that one add-on needs to have another executed beforehand before it can be run, and the builder will handle it.</p>
<p>Currently it supports single dependencies, but if someone pokes me hard enough or has the time, multiple dependencies can be supported. Another thing I've added is shim support. In the case of a shim, it usually needs to run before your core code so that it can fill any gaps in the browser's JavaScript implementation. Tagging any part of the library in the config as a shim ensures it's added before the core module.</p>
<p>For the time being, caching has been removed, but it's on my to-do list.</p>
<p>I completely overhauled the build UI. Using the jade templating engine, The tool is able to handle any project that is described in the configuration JSON. Information provided in that file is used to populate the build tool UI with elements to select and deselect which parts of the project you want.</p>
<p style="text-align: center;"><a href="https://chrisdecairos.ca/content/images/2013/01/jsbuilderui.png"><img class="aligncenter  wp-image-503" alt="JS-Builder UI" src="https://chrisdecairos.ca/content/images/2013/01/jsbuilderui.png" width="692" height="841"></a></p>
We all know that check boxes are lame, so I eventually plan to move to a prettier UI. For the meantime, I've used <a href="http://twitter.github.com/bootstrap/?ref=chrisdecairos.ca" target="_blank">bootstrap</a> to give it some basic styling.
<p>I've renamed the app to reflect its new ability to handle different libraries. It shall henceforth be refered to as JS-Builder. For demonstration purposes, the project still comes configured by default to use popcorn-js, as it's a mature library with a wide selection of add-ons in different categories, with a variety of dependencies between them. This makes it perfect for testing.</p>
<p>You can fin</p>
<!--kg-card-end: markdown-->
        </section>

        <footer class="post-footer">

                <section class="author">
                    <h4>Chris DeCairos</h4>
                    <p></p>
                </section>

            <section class="share">
                <h4>Share this</h4>
                <a class="icon-twitter" href="http://twitter.com/share?text=JS-Builder&url=https://chrisdecairos.ca/js-builder/">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://chrisdecairos.ca/js-builder/">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=https://chrisdecairos.ca/js-builder/">
                    <span class="hidden">Google+</span>
                </a>
            </section>

        </footer>


    </article>

</main>


    <footer class="site-footer">
        <a class="subscribe icon-feed" href="https://chrisdecairos.ca/rss/"><span class="tooltip">Subscribe!</span></a>
        <div class="inner">
             <section class="copyright">All content copyright <a href="/">Chris DeCairos</a> &copy; 2024 &bull; All rights reserved.</section>
        </div>
    </footer>

    

    <script type='text/javascript' src="/assets/highlighter/prettify.js?v=3a098a1af2"></script>
    <script type='text/javascript' src="/assets/js/shell.js?v=3a098a1af2"></script>
</body>
</html>
