<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html" charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />

    <title>Solving Hard Problems is Hard: Third Party MakeAPI Publishing</title>

    <meta name="HandheldFriendly" content="True" />
    <meta name="MobileOptimized" content="320" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="stylesheet" type="text/css" href="/assets/highlighter/prettify.css?v=3a098a1af2" />
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css?v=3a098a1af2" />

    <script type='text/javascript' src="/assets/js/jquery-3.1.1.min.js?v=3a098a1af2"></script>
    <link rel="canonical" href="https://chrisdecairos.ca/solving-hard-problems-is-hard/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <meta property="og:site_name" content="Chris DeCairos">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Solving Hard Problems is Hard: Third Party MakeAPI Publishing">
    <meta property="og:description" content="A majority of my work on Webmaker [https://webmaker.org] has been dedicated to
something we call the Make API [https://github.com/mozilla/MakeAPI]. It is a
service for storing meta data about things people create online and making that
meta data publicly searchable. Ever since we first stood">
    <meta property="og:url" content="https://chrisdecairos.ca/solving-hard-problems-is-hard/">
    <meta property="article:published_time" content="2013-11-04T13:25:06.000Z">
    <meta property="article:modified_time" content="2018-08-22T02:24:40.000Z">
    <meta property="article:tag" content="MakeAPI">
    <meta property="article:tag" content="Mozilla">
    <meta property="article:tag" content="webmaker">
    
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Solving Hard Problems is Hard: Third Party MakeAPI Publishing">
    <meta name="twitter:description" content="A majority of my work on Webmaker [https://webmaker.org] has been dedicated to
something we call the Make API [https://github.com/mozilla/MakeAPI]. It is a
service for storing meta data about things people create online and making that
meta data publicly searchable. Ever since we first stood">
    <meta name="twitter:url" content="https://chrisdecairos.ca/solving-hard-problems-is-hard/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Chris DeCairos">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="MakeAPI, Mozilla, webmaker">
    <meta name="twitter:site" content="@ChrisDeCairos">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Chris DeCairos",
        "url": "https://chrisdecairos.ca/",
        "logo": {
            "@type": "ImageObject",
            "url": "https://chrisdecairos.ca/content/images/2020/12/profile--Small-.jpg"
        }
    },
    "author": {
        "@type": "Person",
        "name": "Chris DeCairos",
        "image": {
            "@type": "ImageObject",
            "url": "//www.gravatar.com/avatar/5410ec660422c8ea12d4a28ef794a23a?s=250&d=mm&r=x",
            "width": 250,
            "height": 250
        },
        "url": "https://chrisdecairos.ca/author/chris/",
        "sameAs": []
    },
    "headline": "Solving Hard Problems is Hard: Third Party MakeAPI Publishing",
    "url": "https://chrisdecairos.ca/solving-hard-problems-is-hard/",
    "datePublished": "2013-11-04T13:25:06.000Z",
    "dateModified": "2018-08-22T02:24:40.000Z",
    "keywords": "MakeAPI, Mozilla, webmaker",
    "description": "A majority of my work on Webmaker [https://webmaker.org] has been dedicated to\nsomething we call the Make API [https://github.com/mozilla/MakeAPI]. It is a\nservice for storing meta data about things people create online and making that\nmeta data publicly searchable. Ever since we first stood up the service back in\nJune, it has only been allowed to accept meta data from trusted web apps like \nPopcorn Maker and Thimble [https://webmaker.org/en-US/tools]. This has worked\ngreat, but it has become in",
    "mainEntityOfPage": "https://chrisdecairos.ca/solving-hard-problems-is-hard/"
}
    </script>

    <meta name="generator" content="Ghost 5.62">
    <link rel="alternate" type="application/rss+xml" title="Chris DeCairos" href="https://chrisdecairos.ca/rss/">
    
    <script defer src="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/sodo-search.min.js" data-key="6155d3cf5dbae2dc7c7242039b" data-styles="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/main.css" data-sodo-search="https://chrisdecairos.ca/" crossorigin="anonymous"></script>
    
    <link href="https://chrisdecairos.ca/webmentions/receive/" rel="webmention">
    <script defer src="/public/cards.min.js?v=3a098a1af2"></script><style>:root {--ghost-accent-color: #15171A;}</style>
    <link rel="stylesheet" type="text/css" href="/public/cards.min.css?v=3a098a1af2">
</head>
<body class="post-template tag-makeapi tag-mozilla tag-webmaker">

    

<main class="content" role="main">

    <article class="post tag-makeapi tag-mozilla tag-webmaker no-image">

        <header class="post-header">
            <a id="blog-logo" href="https://chrisdecairos.ca">
                    <img src="https://chrisdecairos.ca/content/images/2020/12/profile--Small-.jpg" alt="Blog Logo" />
            </a>
        </header>


        <span class="post-meta"><time datetime="2013-11-04">04 Nov 2013</time> on <a href="/tag/makeapi/">MakeAPI</a> | <a href="/tag/mozilla/">Mozilla</a> | <a href="/tag/webmaker/">webmaker</a></span>

        <h1 class="post-title">Solving Hard Problems is Hard: Third Party MakeAPI Publishing</h1>

        <section class="post-content">
            <!--kg-card-begin: markdown--><p>A majority of my work on <a href="https://webmaker.org/?ref=chrisdecairos.ca" target="_blank">Webmaker</a> has been dedicated to something we call the <a href="https://github.com/mozilla/MakeAPI?ref=chrisdecairos.ca" target="_blank">Make API</a>. It is a service for storing meta data about things people create online and making that meta data publicly searchable. Ever since we first stood up the service back in June, it has only been allowed to accept meta data from trusted web apps like <a href="https://webmaker.org/en-US/tools?ref=chrisdecairos.ca" target="_blank">Popcorn Maker and Thimble</a>. This has worked great, but it has become increasingly more obvious to me that there are applications out there that would like to be able to share metadata about their user's creations with the Make API.</p>
<p>Having third parties publishing to the Make API is an exciting idea, but it's also a very complicated one. In our ten week sprint to launch our Webmaker.org beta, the Make API wasn't optimized to play nicely with non-webmaker entities. In order to prepare the Make API for third party publishing, there are now a lot of tough problems to solve, problems that I haven't had to solve before, and ones that will likely require changes across the entire Webmaker application stack. In this post I'm going to present the big issues facing the Make API today and also touch lightly on some possible solutions. Writing about these problems helps me because it will force me to think critically about the tasks at hand, and hopefully will also generate some feedback from my team and community members. So if you have anything to add, please leave a comment below, email me, message me on IRC or hunt me down IRL.</p>
<!--more-->
<p>Make API records have a very strong link to Webmaker accounts, in order to determine and enforce ownership. Due to a &quot;lets ship this&quot; mentality in the early weeks of the Webmaker.org sprint, make records returned by search queries have their email fields changed into a Webmaker usernames using a single authenticated Webmaker loginAPI request <em>per record</em>.Â  This is not sustainable or scalable, and needs to be rectified as soon as possible. I personally want to just use the Webmaker username directly, but it would require a lot of changes upstream and downstream. Work would need to be done to ensure that username changes (if they are implemented) trickle down to make records. Additionally, makes published by third parties would need a system for proving that a make should be associated with a Webmaker account, if we allow such a process to exist (ie. &quot;anonymously&quot; owned makes, not tied to a specific user).</p>
<p>The Make API's security model for Create, Update and Delete actions practically limit it to server-to-server authentication (first implemented using HTTP basic authentication, then using Hawk ). <a title="API Key Authentication using Hawk" href="https://chrisdecairos.ca/api-key-authentication-using-hawk" target="_blank">Hawk</a> is great for establishing identity and ensuring payload integrity without transmitting credentials, but it lacks the ability to delegate permissions for protected resources to a third party on behalf of a user. This problem has been solved with the <a href="http://oauth.net/core/1.0/?ref=chrisdecairos.ca" target="_blank">OAuth protocol</a>, and the <a href="http://hueniverse.com/2012/07/oauth-2-0-and-the-road-to-hell/?ref=chrisdecairos.ca" target="_blank">OAuth 2.0 &quot;Framework&quot;</a>, but I have heard negative things about both. What I would love to see, is a token based system built into persona, where a logged in persona user can grant an application a token which can then be used in conjunction with server-server authentication protocols (like Hawk) to verify that a request is being made on a logged in user's behalf. Maybe something similar to this crude flowchart I just made in LibreOffice (haha):</p>
<p><a href="https://chrisdecairos.ca/content/images/2013/11/p2q.png" rel="attachment wp-att-632"><img class="aligncenter size-full wp-image-632" alt="Flowchart" src="https://chrisdecairos.ca/content/images/2013/11/p2q.png" width="606" height="805"></a>Another major roadblock is the need for <a href="https://en.wikipedia.org/wiki/Capability-based_security?ref=chrisdecairos.ca" target="_blank">Capability-based security</a>. There are some actions that we certainly don't want to grant to external entities. Actions such as deleting makes should be limited only to records which an application created. A clear list of <a href="https://en.wikipedia.org/wiki/Access_control_list?ref=chrisdecairos.ca" target="_blank">ACLs</a> should be defined and used to determine what actions a specific set of API keys is allowed to do.</p>
<p>We will have to build a front end system where potential consumers can submit requests for API keys. It will require a commitment on our end to respond to requests in a timely manner, and we will need to establish TOS so that we can establish what we commit to as a provider of the service, and what is expected of the consumer of the service.</p>
<p>I've covered pretty much all of the bigger issues facing the move to third party access, but there's plenty smaller things that need to be solved as well. Here's an incomplete list:</p>
<ul>
	<li>The concept of URL vs. Content URLs, and the details of *.makes.org has to get refactored out of the Make API, such that Makes are separate from what Webmaker apps make.</li>
	<li>Remixability shouldn't be a requirement for make records; the idea of /edit and /remix needs to be handled outside of the Make API</li>
	<li>ContentType as a make field is confusing and misleading. Probably could be refactored into some kind of identifier for the tool used to create the make</li>
	<li>We need to expand and better understand the value of having 3rd party apps publish into the Make API, and then build our API, UI, UX to meet those requirements.</li>
	<li>End the dual database nonsense, dropping Mongo and going with just Elasticsearch.</li>
	<li>Improve admin tools, build for external use cases.</li>
	<li>Improve Analytics and metrics for makes</li>
</ul>
&nbsp;<!--kg-card-end: markdown-->
        </section>

        <footer class="post-footer">

                <section class="author">
                    <h4>Chris DeCairos</h4>
                    <p></p>
                </section>

            <section class="share">
                <h4>Share this</h4>
                <a class="icon-twitter" href="http://twitter.com/share?text=Solving Hard Problems is Hard: Third Party MakeAPI Publishing&url=https://chrisdecairos.ca/solving-hard-problems-is-hard/">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=https://chrisdecairos.ca/solving-hard-problems-is-hard/">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=https://chrisdecairos.ca/solving-hard-problems-is-hard/">
                    <span class="hidden">Google+</span>
                </a>
            </section>

        </footer>


    </article>

</main>


    <footer class="site-footer">
        <a class="subscribe icon-feed" href="https://chrisdecairos.ca/rss/"><span class="tooltip">Subscribe!</span></a>
        <div class="inner">
             <section class="copyright">All content copyright <a href="/">Chris DeCairos</a> &copy; 2024 &bull; All rights reserved.</section>
        </div>
    </footer>

    

    <script type='text/javascript' src="/assets/highlighter/prettify.js?v=3a098a1af2"></script>
    <script type='text/javascript' src="/assets/js/shell.js?v=3a098a1af2"></script>
</body>
</html>
